{"id":"node_modules/three/examples/jsm/shaders/BokehShader2.js","dependencies":[{"name":"/Users/home/Documents/projektid/three/package.json","includedInParent":true,"mtime":1752075948167},{"name":"/Users/home/Documents/projektid/three/node_modules/three/package.json","includedInParent":true,"mtime":1752055084410},{"name":"three","loc":{"line":3,"column":7,"index":25},"parent":"/Users/home/Documents/projektid/three/node_modules/three/examples/jsm/shaders/BokehShader2.js","resolved":"/Users/home/Documents/projektid/three/node_modules/three/build/three.module.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BokehShader = exports.BokehDepthShader = void 0;\nvar _three = require(\"three\");\n/**\n * @module BokehShader2\n * @three_import import { BokehShader, BokehDepthShader } from 'three/addons/shaders/BokehShader2.js';\n */\n\n/**\n * Depth-of-field shader with bokeh ported from\n * [GLSL shader by Martins Upitis]{@link http://blenderartists.org/forum/showthread.php?237488-GLSL-depth-of-field-with-bokeh-v2-4-(update)}.\n *\n * Requires #define RINGS and SAMPLES integers\n *\n * @constant\n * @type {ShaderMaterial~Shader}\n */\nvar BokehShader = exports.BokehShader = {\n  name: 'BokehShader',\n  uniforms: {\n    'textureWidth': {\n      value: 1.0\n    },\n    'textureHeight': {\n      value: 1.0\n    },\n    'focalDepth': {\n      value: 1.0\n    },\n    'focalLength': {\n      value: 24.0\n    },\n    'fstop': {\n      value: 0.9\n    },\n    'tColor': {\n      value: null\n    },\n    'tDepth': {\n      value: null\n    },\n    'maxblur': {\n      value: 1.0\n    },\n    'showFocus': {\n      value: 0\n    },\n    'manualdof': {\n      value: 0\n    },\n    'vignetting': {\n      value: 0\n    },\n    'depthblur': {\n      value: 0\n    },\n    'threshold': {\n      value: 0.5\n    },\n    'gain': {\n      value: 2.0\n    },\n    'bias': {\n      value: 0.5\n    },\n    'fringe': {\n      value: 0.7\n    },\n    'znear': {\n      value: 0.1\n    },\n    'zfar': {\n      value: 100\n    },\n    'noise': {\n      value: 1\n    },\n    'dithering': {\n      value: 0.0001\n    },\n    'pentagon': {\n      value: 0\n    },\n    'shaderFocus': {\n      value: 1\n    },\n    'focusCoords': {\n      value: new _three.Vector2()\n    }\n  },\n  vertexShader: /* glsl */\"\\n\\n\\t\\tvarying vec2 vUv;\\n\\n\\t\\tvoid main() {\\n\\n\\t\\t\\tvUv = uv;\\n\\t\\t\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n\\n\\t\\t}\",\n  fragmentShader: /* glsl */\"\\n\\n\\t\\t#include <common>\\n\\n\\t\\tvarying vec2 vUv;\\n\\n\\t\\tuniform sampler2D tColor;\\n\\t\\tuniform sampler2D tDepth;\\n\\t\\tuniform float textureWidth;\\n\\t\\tuniform float textureHeight;\\n\\n\\t\\tuniform float focalDepth;  //focal distance value in meters, but you may use autofocus option below\\n\\t\\tuniform float focalLength; //focal length in mm\\n\\t\\tuniform float fstop; //f-stop value\\n\\t\\tuniform bool showFocus; //show debug focus point and focal range (red = focal point, green = focal range)\\n\\n\\t\\t/*\\n\\t\\tmake sure that these two values are the same for your camera, otherwise distances will be wrong.\\n\\t\\t*/\\n\\n\\t\\tuniform float znear; // camera clipping start\\n\\t\\tuniform float zfar; // camera clipping end\\n\\n\\t\\t//------------------------------------------\\n\\t\\t//user variables\\n\\n\\t\\tconst int samples = SAMPLES; //samples on the first ring\\n\\t\\tconst int rings = RINGS; //ring count\\n\\n\\t\\tconst int maxringsamples = rings * samples;\\n\\n\\t\\tuniform bool manualdof; // manual dof calculation\\n\\t\\tfloat ndofstart = 1.0; // near dof blur start\\n\\t\\tfloat ndofdist = 2.0; // near dof blur falloff distance\\n\\t\\tfloat fdofstart = 1.0; // far dof blur start\\n\\t\\tfloat fdofdist = 3.0; // far dof blur falloff distance\\n\\n\\t\\tfloat CoC = 0.03; //circle of confusion size in mm (35mm film = 0.03mm)\\n\\n\\t\\tuniform bool vignetting; // use optical lens vignetting\\n\\n\\t\\tfloat vignout = 1.3; // vignetting outer border\\n\\t\\tfloat vignin = 0.0; // vignetting inner border\\n\\t\\tfloat vignfade = 22.0; // f-stops till vignette fades\\n\\n\\t\\tuniform bool shaderFocus;\\n\\t\\t// disable if you use external focalDepth value\\n\\n\\t\\tuniform vec2 focusCoords;\\n\\t\\t// autofocus point on screen (0.0,0.0 - left lower corner, 1.0,1.0 - upper right)\\n\\t\\t// if center of screen use vec2(0.5, 0.5);\\n\\n\\t\\tuniform float maxblur;\\n\\t\\t//clamp value of max blur (0.0 = no blur, 1.0 default)\\n\\n\\t\\tuniform float threshold; // highlight threshold;\\n\\t\\tuniform float gain; // highlight gain;\\n\\n\\t\\tuniform float bias; // bokeh edge bias\\n\\t\\tuniform float fringe; // bokeh chromatic aberration / fringing\\n\\n\\t\\tuniform bool noise; //use noise instead of pattern for sample dithering\\n\\n\\t\\tuniform float dithering;\\n\\n\\t\\tuniform bool depthblur; // blur the depth buffer\\n\\t\\tfloat dbsize = 1.25; // depth blur size\\n\\n\\t\\t/*\\n\\t\\tnext part is experimental\\n\\t\\tnot looking good with small sample and ring count\\n\\t\\tlooks okay starting from samples = 4, rings = 4\\n\\t\\t*/\\n\\n\\t\\tuniform bool pentagon; //use pentagon as bokeh shape?\\n\\t\\tfloat feather = 0.4; //pentagon shape feather\\n\\n\\t\\t//------------------------------------------\\n\\n\\t\\tfloat penta(vec2 coords) {\\n\\t\\t\\t//pentagonal shape\\n\\t\\t\\tfloat scale = float(rings) - 1.3;\\n\\t\\t\\tvec4  HS0 = vec4( 1.0,         0.0,         0.0,  1.0);\\n\\t\\t\\tvec4  HS1 = vec4( 0.309016994, 0.951056516, 0.0,  1.0);\\n\\t\\t\\tvec4  HS2 = vec4(-0.809016994, 0.587785252, 0.0,  1.0);\\n\\t\\t\\tvec4  HS3 = vec4(-0.809016994,-0.587785252, 0.0,  1.0);\\n\\t\\t\\tvec4  HS4 = vec4( 0.309016994,-0.951056516, 0.0,  1.0);\\n\\t\\t\\tvec4  HS5 = vec4( 0.0        ,0.0         , 1.0,  1.0);\\n\\n\\t\\t\\tvec4  one = vec4( 1.0 );\\n\\n\\t\\t\\tvec4 P = vec4((coords),vec2(scale, scale));\\n\\n\\t\\t\\tvec4 dist = vec4(0.0);\\n\\t\\t\\tfloat inorout = -4.0;\\n\\n\\t\\t\\tdist.x = dot( P, HS0 );\\n\\t\\t\\tdist.y = dot( P, HS1 );\\n\\t\\t\\tdist.z = dot( P, HS2 );\\n\\t\\t\\tdist.w = dot( P, HS3 );\\n\\n\\t\\t\\tdist = smoothstep( -feather, feather, dist );\\n\\n\\t\\t\\tinorout += dot( dist, one );\\n\\n\\t\\t\\tdist.x = dot( P, HS4 );\\n\\t\\t\\tdist.y = HS5.w - abs( P.z );\\n\\n\\t\\t\\tdist = smoothstep( -feather, feather, dist );\\n\\t\\t\\tinorout += dist.x;\\n\\n\\t\\t\\treturn clamp( inorout, 0.0, 1.0 );\\n\\t\\t}\\n\\n\\t\\tfloat bdepth(vec2 coords) {\\n\\t\\t\\t// Depth buffer blur\\n\\t\\t\\tfloat d = 0.0;\\n\\t\\t\\tfloat kernel[9];\\n\\t\\t\\tvec2 offset[9];\\n\\n\\t\\t\\tvec2 wh = vec2(1.0/textureWidth,1.0/textureHeight) * dbsize;\\n\\n\\t\\t\\toffset[0] = vec2(-wh.x,-wh.y);\\n\\t\\t\\toffset[1] = vec2( 0.0, -wh.y);\\n\\t\\t\\toffset[2] = vec2( wh.x -wh.y);\\n\\n\\t\\t\\toffset[3] = vec2(-wh.x,  0.0);\\n\\t\\t\\toffset[4] = vec2( 0.0,   0.0);\\n\\t\\t\\toffset[5] = vec2( wh.x,  0.0);\\n\\n\\t\\t\\toffset[6] = vec2(-wh.x, wh.y);\\n\\t\\t\\toffset[7] = vec2( 0.0,  wh.y);\\n\\t\\t\\toffset[8] = vec2( wh.x, wh.y);\\n\\n\\t\\t\\tkernel[0] = 1.0/16.0;   kernel[1] = 2.0/16.0;   kernel[2] = 1.0/16.0;\\n\\t\\t\\tkernel[3] = 2.0/16.0;   kernel[4] = 4.0/16.0;   kernel[5] = 2.0/16.0;\\n\\t\\t\\tkernel[6] = 1.0/16.0;   kernel[7] = 2.0/16.0;   kernel[8] = 1.0/16.0;\\n\\n\\n\\t\\t\\tfor( int i=0; i<9; i++ ) {\\n\\t\\t\\t\\tfloat tmp = texture2D(tDepth, coords + offset[i]).r;\\n\\t\\t\\t\\td += tmp * kernel[i];\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn d;\\n\\t\\t}\\n\\n\\n\\t\\tvec3 color(vec2 coords,float blur) {\\n\\t\\t\\t//processing the sample\\n\\n\\t\\t\\tvec3 col = vec3(0.0);\\n\\t\\t\\tvec2 texel = vec2(1.0/textureWidth,1.0/textureHeight);\\n\\n\\t\\t\\tcol.r = texture2D(tColor,coords + vec2(0.0,1.0)*texel*fringe*blur).r;\\n\\t\\t\\tcol.g = texture2D(tColor,coords + vec2(-0.866,-0.5)*texel*fringe*blur).g;\\n\\t\\t\\tcol.b = texture2D(tColor,coords + vec2(0.866,-0.5)*texel*fringe*blur).b;\\n\\n\\t\\t\\tvec3 lumcoeff = vec3(0.299,0.587,0.114);\\n\\t\\t\\tfloat lum = dot(col.rgb, lumcoeff);\\n\\t\\t\\tfloat thresh = max((lum-threshold)*gain, 0.0);\\n\\t\\t\\treturn col+mix(vec3(0.0),col,thresh*blur);\\n\\t\\t}\\n\\n\\t\\tvec3 debugFocus(vec3 col, float blur, float depth) {\\n\\t\\t\\tfloat edge = 0.002*depth; //distance based edge smoothing\\n\\t\\t\\tfloat m = clamp(smoothstep(0.0,edge,blur),0.0,1.0);\\n\\t\\t\\tfloat e = clamp(smoothstep(1.0-edge,1.0,blur),0.0,1.0);\\n\\n\\t\\t\\tcol = mix(col,vec3(1.0,0.5,0.0),(1.0-m)*0.6);\\n\\t\\t\\tcol = mix(col,vec3(0.0,0.5,1.0),((1.0-e)-(1.0-m))*0.2);\\n\\n\\t\\t\\treturn col;\\n\\t\\t}\\n\\n\\t\\tfloat linearize(float depth) {\\n\\t\\t\\treturn -zfar * znear / (depth * (zfar - znear) - zfar);\\n\\t\\t}\\n\\n\\t\\tfloat vignette() {\\n\\t\\t\\tfloat dist = distance(vUv.xy, vec2(0.5,0.5));\\n\\t\\t\\tdist = smoothstep(vignout+(fstop/vignfade), vignin+(fstop/vignfade), dist);\\n\\t\\t\\treturn clamp(dist,0.0,1.0);\\n\\t\\t}\\n\\n\\t\\tfloat gather(float i, float j, int ringsamples, inout vec3 col, float w, float h, float blur) {\\n\\t\\t\\tfloat rings2 = float(rings);\\n\\t\\t\\tfloat step = PI*2.0 / float(ringsamples);\\n\\t\\t\\tfloat pw = cos(j*step)*i;\\n\\t\\t\\tfloat ph = sin(j*step)*i;\\n\\t\\t\\tfloat p = 1.0;\\n\\t\\t\\tif (pentagon) {\\n\\t\\t\\t\\tp = penta(vec2(pw,ph));\\n\\t\\t\\t}\\n\\t\\t\\tcol += color(vUv.xy + vec2(pw*w,ph*h), blur) * mix(1.0, i/rings2, bias) * p;\\n\\t\\t\\treturn 1.0 * mix(1.0, i /rings2, bias) * p;\\n\\t\\t}\\n\\n\\t\\tvoid main() {\\n\\t\\t\\t//scene depth calculation\\n\\n\\t\\t\\tfloat depth = linearize(texture2D(tDepth,vUv.xy).x);\\n\\n\\t\\t\\t// Blur depth?\\n\\t\\t\\tif ( depthblur ) {\\n\\t\\t\\t\\tdepth = linearize(bdepth(vUv.xy));\\n\\t\\t\\t}\\n\\n\\t\\t\\t//focal plane calculation\\n\\n\\t\\t\\tfloat fDepth = focalDepth;\\n\\n\\t\\t\\tif (shaderFocus) {\\n\\n\\t\\t\\t\\tfDepth = linearize(texture2D(tDepth,focusCoords).x);\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\t// dof blur factor calculation\\n\\n\\t\\t\\tfloat blur = 0.0;\\n\\n\\t\\t\\tif (manualdof) {\\n\\t\\t\\t\\tfloat a = depth-fDepth; // Focal plane\\n\\t\\t\\t\\tfloat b = (a-fdofstart)/fdofdist; // Far DoF\\n\\t\\t\\t\\tfloat c = (-a-ndofstart)/ndofdist; // Near Dof\\n\\t\\t\\t\\tblur = (a>0.0) ? b : c;\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tfloat f = focalLength; // focal length in mm\\n\\t\\t\\t\\tfloat d = fDepth*1000.0; // focal plane in mm\\n\\t\\t\\t\\tfloat o = depth*1000.0; // depth in mm\\n\\n\\t\\t\\t\\tfloat a = (o*f)/(o-f);\\n\\t\\t\\t\\tfloat b = (d*f)/(d-f);\\n\\t\\t\\t\\tfloat c = (d-f)/(d*fstop*CoC);\\n\\n\\t\\t\\t\\tblur = abs(a-b)*c;\\n\\t\\t\\t}\\n\\n\\t\\t\\tblur = clamp(blur,0.0,1.0);\\n\\n\\t\\t\\t// calculation of pattern for dithering\\n\\n\\t\\t\\tvec2 noise = vec2(rand(vUv.xy), rand( vUv.xy + vec2( 0.4, 0.6 ) ) )*dithering*blur;\\n\\n\\t\\t\\t// getting blur x and y step factor\\n\\n\\t\\t\\tfloat w = (1.0/textureWidth)*blur*maxblur+noise.x;\\n\\t\\t\\tfloat h = (1.0/textureHeight)*blur*maxblur+noise.y;\\n\\n\\t\\t\\t// calculation of final color\\n\\n\\t\\t\\tvec3 col = vec3(0.0);\\n\\n\\t\\t\\tif(blur < 0.05) {\\n\\t\\t\\t\\t//some optimization thingy\\n\\t\\t\\t\\tcol = texture2D(tColor, vUv.xy).rgb;\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tcol = texture2D(tColor, vUv.xy).rgb;\\n\\t\\t\\t\\tfloat s = 1.0;\\n\\t\\t\\t\\tint ringsamples;\\n\\n\\t\\t\\t\\tfor (int i = 1; i <= rings; i++) {\\n\\t\\t\\t\\t\\t/*unboxstart*/\\n\\t\\t\\t\\t\\tringsamples = i * samples;\\n\\n\\t\\t\\t\\t\\tfor (int j = 0 ; j < maxringsamples ; j++) {\\n\\t\\t\\t\\t\\t\\tif (j >= ringsamples) break;\\n\\t\\t\\t\\t\\t\\ts += gather(float(i), float(j), ringsamples, col, w, h, blur);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t/*unboxend*/\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tcol /= s; //divide by sample count\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (showFocus) {\\n\\t\\t\\t\\tcol = debugFocus(col, blur, depth);\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (vignetting) {\\n\\t\\t\\t\\tcol *= vignette();\\n\\t\\t\\t}\\n\\n\\t\\t\\tgl_FragColor.rgb = col;\\n\\t\\t\\tgl_FragColor.a = 1.0;\\n\\n\\t\\t\\t#include <tonemapping_fragment>\\n\\t\\t\\t#include <colorspace_fragment>\\n\\t\\t}\"\n};\nvar BokehDepthShader = exports.BokehDepthShader = {\n  name: 'BokehDepthShader',\n  uniforms: {\n    'mNear': {\n      value: 1.0\n    },\n    'mFar': {\n      value: 1000.0\n    }\n  },\n  vertexShader: /* glsl */\"\\n\\n\\t\\tvarying float vViewZDepth;\\n\\n\\t\\tvoid main() {\\n\\n\\t\\t\\t#include <begin_vertex>\\n\\t\\t\\t#include <project_vertex>\\n\\n\\t\\t\\tvViewZDepth = - mvPosition.z;\\n\\n\\t\\t}\",\n  fragmentShader: /* glsl */\"\\n\\n\\t\\tuniform float mNear;\\n\\t\\tuniform float mFar;\\n\\n\\t\\tvarying float vViewZDepth;\\n\\n\\t\\tvoid main() {\\n\\n\\t\\t\\tfloat color = 1.0 - smoothstep( mNear, mFar, vViewZDepth );\\n\\t\\t\\tgl_FragColor = vec4( vec3( color ), 1.0 );\\n\\n\\t\\t}\"\n};"},"sourceMaps":{"js":{"mappings":[{"generated":{"line":7,"column":0},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":1,"column":0}},{"generated":{"line":7,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":1,"column":0},"name":"_three"},{"generated":{"line":7,"column":10},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":1,"column":0}},{"generated":{"line":7,"column":13},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":1,"column":0},"name":"require"},{"generated":{"line":7,"column":20},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":1,"column":0}},{"generated":{"line":8,"column":0},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":5,"column":0}},{"generated":{"line":9,"column":0},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":6,"column":0}},{"generated":{"line":10,"column":0},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":7,"column":0}},{"generated":{"line":11,"column":0},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":8,"column":0}},{"generated":{"line":13,"column":0},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":10,"column":0}},{"generated":{"line":14,"column":0},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":11,"column":0}},{"generated":{"line":15,"column":0},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":12,"column":0}},{"generated":{"line":16,"column":0},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":13,"column":0}},{"generated":{"line":17,"column":0},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":14,"column":0}},{"generated":{"line":18,"column":0},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":15,"column":0}},{"generated":{"line":19,"column":0},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":16,"column":0}},{"generated":{"line":20,"column":0},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":17,"column":0}},{"generated":{"line":21,"column":0},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":18,"column":0}},{"generated":{"line":22,"column":0},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":19,"column":0}},{"generated":{"line":22,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":19,"column":6},"name":"BokehShader"},{"generated":{"line":22,"column":15},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":19,"column":17}},{"generated":{"line":22,"column":18},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":19,"column":17},"name":"exports"},{"generated":{"line":22,"column":25},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":19,"column":17}},{"generated":{"line":22,"column":26},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":19,"column":17},"name":"BokehShader"},{"generated":{"line":22,"column":37},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":19,"column":17}},{"generated":{"line":22,"column":40},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":19,"column":20}},{"generated":{"line":23,"column":2},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":21,"column":1},"name":"name"},{"generated":{"line":23,"column":6},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":21,"column":5}},{"generated":{"line":23,"column":8},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":21,"column":7}},{"generated":{"line":23,"column":21},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":21,"column":20}},{"generated":{"line":24,"column":2},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":23,"column":1},"name":"uniforms"},{"generated":{"line":24,"column":10},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":23,"column":9}},{"generated":{"line":24,"column":12},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":23,"column":11}},{"generated":{"line":25,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":25,"column":2}},{"generated":{"line":25,"column":18},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":25,"column":16}},{"generated":{"line":25,"column":20},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":25,"column":18}},{"generated":{"line":26,"column":6},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":25,"column":20},"name":"value"},{"generated":{"line":26,"column":11},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":25,"column":25}},{"generated":{"line":26,"column":13},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":25,"column":27}},{"generated":{"line":27,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":25,"column":31}},{"generated":{"line":27,"column":5},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":25,"column":32}},{"generated":{"line":28,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":26,"column":2}},{"generated":{"line":28,"column":19},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":26,"column":17}},{"generated":{"line":28,"column":21},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":26,"column":19}},{"generated":{"line":29,"column":6},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":26,"column":21},"name":"value"},{"generated":{"line":29,"column":11},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":26,"column":26}},{"generated":{"line":29,"column":13},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":26,"column":28}},{"generated":{"line":30,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":26,"column":32}},{"generated":{"line":30,"column":5},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":26,"column":33}},{"generated":{"line":31,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":28,"column":2}},{"generated":{"line":31,"column":16},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":28,"column":14}},{"generated":{"line":31,"column":18},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":28,"column":16}},{"generated":{"line":32,"column":6},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":28,"column":18},"name":"value"},{"generated":{"line":32,"column":11},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":28,"column":23}},{"generated":{"line":32,"column":13},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":28,"column":25}},{"generated":{"line":33,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":28,"column":29}},{"generated":{"line":33,"column":5},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":28,"column":30}},{"generated":{"line":34,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":29,"column":2}},{"generated":{"line":34,"column":17},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":29,"column":15}},{"generated":{"line":34,"column":19},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":29,"column":17}},{"generated":{"line":35,"column":6},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":29,"column":19},"name":"value"},{"generated":{"line":35,"column":11},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":29,"column":24}},{"generated":{"line":35,"column":13},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":29,"column":26}},{"generated":{"line":36,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":29,"column":31}},{"generated":{"line":36,"column":5},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":29,"column":32}},{"generated":{"line":37,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":30,"column":2}},{"generated":{"line":37,"column":11},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":30,"column":9}},{"generated":{"line":37,"column":13},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":30,"column":11}},{"generated":{"line":38,"column":6},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":30,"column":13},"name":"value"},{"generated":{"line":38,"column":11},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":30,"column":18}},{"generated":{"line":38,"column":13},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":30,"column":20}},{"generated":{"line":39,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":30,"column":24}},{"generated":{"line":39,"column":5},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":30,"column":25}},{"generated":{"line":40,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":32,"column":2}},{"generated":{"line":40,"column":12},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":32,"column":10}},{"generated":{"line":40,"column":14},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":32,"column":12}},{"generated":{"line":41,"column":6},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":32,"column":14},"name":"value"},{"generated":{"line":41,"column":11},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":32,"column":19}},{"generated":{"line":41,"column":13},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":32,"column":21}},{"generated":{"line":42,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":32,"column":26}},{"generated":{"line":42,"column":5},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":32,"column":27}},{"generated":{"line":43,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":33,"column":2}},{"generated":{"line":43,"column":12},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":33,"column":10}},{"generated":{"line":43,"column":14},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":33,"column":12}},{"generated":{"line":44,"column":6},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":33,"column":14},"name":"value"},{"generated":{"line":44,"column":11},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":33,"column":19}},{"generated":{"line":44,"column":13},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":33,"column":21}},{"generated":{"line":45,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":33,"column":26}},{"generated":{"line":45,"column":5},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":33,"column":27}},{"generated":{"line":46,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":35,"column":2}},{"generated":{"line":46,"column":13},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":35,"column":11}},{"generated":{"line":46,"column":15},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":35,"column":13}},{"generated":{"line":47,"column":6},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":35,"column":15},"name":"value"},{"generated":{"line":47,"column":11},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":35,"column":20}},{"generated":{"line":47,"column":13},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":35,"column":22}},{"generated":{"line":48,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":35,"column":26}},{"generated":{"line":48,"column":5},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":35,"column":27}},{"generated":{"line":49,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":37,"column":2}},{"generated":{"line":49,"column":15},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":37,"column":13}},{"generated":{"line":49,"column":17},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":37,"column":15}},{"generated":{"line":50,"column":6},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":37,"column":17},"name":"value"},{"generated":{"line":50,"column":11},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":37,"column":22}},{"generated":{"line":50,"column":13},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":37,"column":24}},{"generated":{"line":51,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":37,"column":26}},{"generated":{"line":51,"column":5},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":37,"column":27}},{"generated":{"line":52,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":38,"column":2}},{"generated":{"line":52,"column":15},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":38,"column":13}},{"generated":{"line":52,"column":17},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":38,"column":15}},{"generated":{"line":53,"column":6},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":38,"column":17},"name":"value"},{"generated":{"line":53,"column":11},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":38,"column":22}},{"generated":{"line":53,"column":13},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":38,"column":24}},{"generated":{"line":54,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":38,"column":26}},{"generated":{"line":54,"column":5},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":38,"column":27}},{"generated":{"line":55,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":39,"column":2}},{"generated":{"line":55,"column":16},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":39,"column":14}},{"generated":{"line":55,"column":18},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":39,"column":16}},{"generated":{"line":56,"column":6},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":39,"column":18},"name":"value"},{"generated":{"line":56,"column":11},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":39,"column":23}},{"generated":{"line":56,"column":13},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":39,"column":25}},{"generated":{"line":57,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":39,"column":27}},{"generated":{"line":57,"column":5},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":39,"column":28}},{"generated":{"line":58,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":40,"column":2}},{"generated":{"line":58,"column":15},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":40,"column":13}},{"generated":{"line":58,"column":17},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":40,"column":15}},{"generated":{"line":59,"column":6},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":40,"column":17},"name":"value"},{"generated":{"line":59,"column":11},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":40,"column":22}},{"generated":{"line":59,"column":13},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":40,"column":24}},{"generated":{"line":60,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":40,"column":26}},{"generated":{"line":60,"column":5},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":40,"column":27}},{"generated":{"line":61,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":42,"column":2}},{"generated":{"line":61,"column":15},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":42,"column":13}},{"generated":{"line":61,"column":17},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":42,"column":15}},{"generated":{"line":62,"column":6},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":42,"column":17},"name":"value"},{"generated":{"line":62,"column":11},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":42,"column":22}},{"generated":{"line":62,"column":13},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":42,"column":24}},{"generated":{"line":63,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":42,"column":28}},{"generated":{"line":63,"column":5},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":42,"column":29}},{"generated":{"line":64,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":43,"column":2}},{"generated":{"line":64,"column":10},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":43,"column":8}},{"generated":{"line":64,"column":12},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":43,"column":10}},{"generated":{"line":65,"column":6},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":43,"column":12},"name":"value"},{"generated":{"line":65,"column":11},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":43,"column":17}},{"generated":{"line":65,"column":13},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":43,"column":19}},{"generated":{"line":66,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":43,"column":23}},{"generated":{"line":66,"column":5},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":43,"column":24}},{"generated":{"line":67,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":44,"column":2}},{"generated":{"line":67,"column":10},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":44,"column":8}},{"generated":{"line":67,"column":12},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":44,"column":10}},{"generated":{"line":68,"column":6},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":44,"column":12},"name":"value"},{"generated":{"line":68,"column":11},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":44,"column":17}},{"generated":{"line":68,"column":13},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":44,"column":19}},{"generated":{"line":69,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":44,"column":23}},{"generated":{"line":69,"column":5},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":44,"column":24}},{"generated":{"line":70,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":45,"column":2}},{"generated":{"line":70,"column":12},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":45,"column":10}},{"generated":{"line":70,"column":14},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":45,"column":12}},{"generated":{"line":71,"column":6},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":45,"column":14},"name":"value"},{"generated":{"line":71,"column":11},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":45,"column":19}},{"generated":{"line":71,"column":13},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":45,"column":21}},{"generated":{"line":72,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":45,"column":25}},{"generated":{"line":72,"column":5},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":45,"column":26}},{"generated":{"line":73,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":47,"column":2}},{"generated":{"line":73,"column":11},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":47,"column":9}},{"generated":{"line":73,"column":13},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":47,"column":11}},{"generated":{"line":74,"column":6},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":47,"column":13},"name":"value"},{"generated":{"line":74,"column":11},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":47,"column":18}},{"generated":{"line":74,"column":13},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":47,"column":20}},{"generated":{"line":75,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":47,"column":24}},{"generated":{"line":75,"column":5},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":47,"column":25}},{"generated":{"line":76,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":48,"column":2}},{"generated":{"line":76,"column":10},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":48,"column":8}},{"generated":{"line":76,"column":12},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":48,"column":10}},{"generated":{"line":77,"column":6},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":48,"column":12},"name":"value"},{"generated":{"line":77,"column":11},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":48,"column":17}},{"generated":{"line":77,"column":13},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":48,"column":19}},{"generated":{"line":78,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":48,"column":23}},{"generated":{"line":78,"column":5},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":48,"column":24}},{"generated":{"line":79,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":50,"column":2}},{"generated":{"line":79,"column":11},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":50,"column":9}},{"generated":{"line":79,"column":13},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":50,"column":11}},{"generated":{"line":80,"column":6},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":50,"column":13},"name":"value"},{"generated":{"line":80,"column":11},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":50,"column":18}},{"generated":{"line":80,"column":13},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":50,"column":20}},{"generated":{"line":81,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":50,"column":22}},{"generated":{"line":81,"column":5},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":50,"column":23}},{"generated":{"line":82,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":51,"column":2}},{"generated":{"line":82,"column":15},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":51,"column":13}},{"generated":{"line":82,"column":17},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":51,"column":15}},{"generated":{"line":83,"column":6},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":51,"column":17},"name":"value"},{"generated":{"line":83,"column":11},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":51,"column":22}},{"generated":{"line":83,"column":13},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":51,"column":24}},{"generated":{"line":84,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":51,"column":31}},{"generated":{"line":84,"column":5},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":51,"column":32}},{"generated":{"line":85,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":52,"column":2}},{"generated":{"line":85,"column":14},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":52,"column":12}},{"generated":{"line":85,"column":16},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":52,"column":14}},{"generated":{"line":86,"column":6},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":52,"column":16},"name":"value"},{"generated":{"line":86,"column":11},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":52,"column":21}},{"generated":{"line":86,"column":13},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":52,"column":23}},{"generated":{"line":87,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":52,"column":25}},{"generated":{"line":87,"column":5},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":52,"column":26}},{"generated":{"line":88,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":54,"column":2}},{"generated":{"line":88,"column":17},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":54,"column":15}},{"generated":{"line":88,"column":19},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":54,"column":17}},{"generated":{"line":89,"column":6},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":54,"column":19},"name":"value"},{"generated":{"line":89,"column":11},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":54,"column":24}},{"generated":{"line":89,"column":13},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":54,"column":26}},{"generated":{"line":90,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":54,"column":28}},{"generated":{"line":90,"column":5},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":54,"column":29}},{"generated":{"line":91,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":55,"column":2}},{"generated":{"line":91,"column":17},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":55,"column":15}},{"generated":{"line":91,"column":19},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":55,"column":17}},{"generated":{"line":92,"column":6},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":55,"column":19},"name":"value"},{"generated":{"line":92,"column":11},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":55,"column":24}},{"generated":{"line":92,"column":13},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":55,"column":26}},{"generated":{"line":92,"column":17},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":55,"column":30},"name":"Vector2"},{"generated":{"line":92,"column":31},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":55,"column":37}},{"generated":{"line":92,"column":32},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":55,"column":38}},{"generated":{"line":93,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":55,"column":40}},{"generated":{"line":94,"column":2},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":58,"column":1}},{"generated":{"line":94,"column":3},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":58,"column":2}},{"generated":{"line":95,"column":2},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":60,"column":1},"name":"vertexShader"},{"generated":{"line":95,"column":14},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":60,"column":13}},{"generated":{"line":95,"column":16},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":60,"column":15}},{"generated":{"line":95,"column":183},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":69,"column":4}},{"generated":{"line":96,"column":2},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":71,"column":1},"name":"fragmentShader"},{"generated":{"line":96,"column":16},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":71,"column":15}},{"generated":{"line":96,"column":18},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":71,"column":17}},{"generated":{"line":97,"column":0},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":362,"column":0}},{"generated":{"line":97,"column":1},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":362,"column":1}},{"generated":{"line":98,"column":0},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":364,"column":0}},{"generated":{"line":98,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":364,"column":6},"name":"BokehDepthShader"},{"generated":{"line":98,"column":20},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":364,"column":22}},{"generated":{"line":98,"column":23},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":364,"column":22},"name":"exports"},{"generated":{"line":98,"column":30},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":364,"column":22}},{"generated":{"line":98,"column":31},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":364,"column":22},"name":"BokehDepthShader"},{"generated":{"line":98,"column":47},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":364,"column":22}},{"generated":{"line":98,"column":50},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":364,"column":25}},{"generated":{"line":99,"column":2},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":366,"column":1},"name":"name"},{"generated":{"line":99,"column":6},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":366,"column":5}},{"generated":{"line":99,"column":8},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":366,"column":7}},{"generated":{"line":99,"column":26},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":366,"column":25}},{"generated":{"line":100,"column":2},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":368,"column":1},"name":"uniforms"},{"generated":{"line":100,"column":10},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":368,"column":9}},{"generated":{"line":100,"column":12},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":368,"column":11}},{"generated":{"line":101,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":370,"column":2}},{"generated":{"line":101,"column":11},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":370,"column":9}},{"generated":{"line":101,"column":13},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":370,"column":11}},{"generated":{"line":102,"column":6},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":370,"column":13},"name":"value"},{"generated":{"line":102,"column":11},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":370,"column":18}},{"generated":{"line":102,"column":13},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":370,"column":20}},{"generated":{"line":103,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":370,"column":24}},{"generated":{"line":103,"column":5},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":370,"column":25}},{"generated":{"line":104,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":371,"column":2}},{"generated":{"line":104,"column":10},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":371,"column":8}},{"generated":{"line":104,"column":12},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":371,"column":10}},{"generated":{"line":105,"column":6},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":371,"column":12},"name":"value"},{"generated":{"line":105,"column":11},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":371,"column":17}},{"generated":{"line":105,"column":13},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":371,"column":19}},{"generated":{"line":106,"column":4},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":371,"column":26}},{"generated":{"line":107,"column":2},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":373,"column":1}},{"generated":{"line":107,"column":3},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":373,"column":2}},{"generated":{"line":108,"column":2},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":375,"column":1},"name":"vertexShader"},{"generated":{"line":108,"column":14},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":375,"column":13}},{"generated":{"line":108,"column":16},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":375,"column":15}},{"generated":{"line":108,"column":197},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":386,"column":4}},{"generated":{"line":109,"column":2},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":388,"column":1},"name":"fragmentShader"},{"generated":{"line":109,"column":16},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":388,"column":15}},{"generated":{"line":109,"column":18},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":388,"column":17}},{"generated":{"line":110,"column":0},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":402,"column":0}},{"generated":{"line":110,"column":1},"source":"node_modules/three/examples/jsm/shaders/BokehShader2.js","original":{"line":402,"column":1}}],"sources":{"node_modules/three/examples/jsm/shaders/BokehShader2.js":"import {\n\tVector2\n} from 'three';\n\n/**\n * @module BokehShader2\n * @three_import import { BokehShader, BokehDepthShader } from 'three/addons/shaders/BokehShader2.js';\n */\n\n/**\n * Depth-of-field shader with bokeh ported from\n * [GLSL shader by Martins Upitis]{@link http://blenderartists.org/forum/showthread.php?237488-GLSL-depth-of-field-with-bokeh-v2-4-(update)}.\n *\n * Requires #define RINGS and SAMPLES integers\n *\n * @constant\n * @type {ShaderMaterial~Shader}\n */\nconst BokehShader = {\n\n\tname: 'BokehShader',\n\n\tuniforms: {\n\n\t\t'textureWidth': { value: 1.0 },\n\t\t'textureHeight': { value: 1.0 },\n\n\t\t'focalDepth': { value: 1.0 },\n\t\t'focalLength': { value: 24.0 },\n\t\t'fstop': { value: 0.9 },\n\n\t\t'tColor': { value: null },\n\t\t'tDepth': { value: null },\n\n\t\t'maxblur': { value: 1.0 },\n\n\t\t'showFocus': { value: 0 },\n\t\t'manualdof': { value: 0 },\n\t\t'vignetting': { value: 0 },\n\t\t'depthblur': { value: 0 },\n\n\t\t'threshold': { value: 0.5 },\n\t\t'gain': { value: 2.0 },\n\t\t'bias': { value: 0.5 },\n\t\t'fringe': { value: 0.7 },\n\n\t\t'znear': { value: 0.1 },\n\t\t'zfar': { value: 100 },\n\n\t\t'noise': { value: 1 },\n\t\t'dithering': { value: 0.0001 },\n\t\t'pentagon': { value: 0 },\n\n\t\t'shaderFocus': { value: 1 },\n\t\t'focusCoords': { value: new Vector2() }\n\n\n\t},\n\n\tvertexShader: /* glsl */`\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}`,\n\n\tfragmentShader: /* glsl */`\n\n\t\t#include <common>\n\n\t\tvarying vec2 vUv;\n\n\t\tuniform sampler2D tColor;\n\t\tuniform sampler2D tDepth;\n\t\tuniform float textureWidth;\n\t\tuniform float textureHeight;\n\n\t\tuniform float focalDepth;  //focal distance value in meters, but you may use autofocus option below\n\t\tuniform float focalLength; //focal length in mm\n\t\tuniform float fstop; //f-stop value\n\t\tuniform bool showFocus; //show debug focus point and focal range (red = focal point, green = focal range)\n\n\t\t/*\n\t\tmake sure that these two values are the same for your camera, otherwise distances will be wrong.\n\t\t*/\n\n\t\tuniform float znear; // camera clipping start\n\t\tuniform float zfar; // camera clipping end\n\n\t\t//------------------------------------------\n\t\t//user variables\n\n\t\tconst int samples = SAMPLES; //samples on the first ring\n\t\tconst int rings = RINGS; //ring count\n\n\t\tconst int maxringsamples = rings * samples;\n\n\t\tuniform bool manualdof; // manual dof calculation\n\t\tfloat ndofstart = 1.0; // near dof blur start\n\t\tfloat ndofdist = 2.0; // near dof blur falloff distance\n\t\tfloat fdofstart = 1.0; // far dof blur start\n\t\tfloat fdofdist = 3.0; // far dof blur falloff distance\n\n\t\tfloat CoC = 0.03; //circle of confusion size in mm (35mm film = 0.03mm)\n\n\t\tuniform bool vignetting; // use optical lens vignetting\n\n\t\tfloat vignout = 1.3; // vignetting outer border\n\t\tfloat vignin = 0.0; // vignetting inner border\n\t\tfloat vignfade = 22.0; // f-stops till vignette fades\n\n\t\tuniform bool shaderFocus;\n\t\t// disable if you use external focalDepth value\n\n\t\tuniform vec2 focusCoords;\n\t\t// autofocus point on screen (0.0,0.0 - left lower corner, 1.0,1.0 - upper right)\n\t\t// if center of screen use vec2(0.5, 0.5);\n\n\t\tuniform float maxblur;\n\t\t//clamp value of max blur (0.0 = no blur, 1.0 default)\n\n\t\tuniform float threshold; // highlight threshold;\n\t\tuniform float gain; // highlight gain;\n\n\t\tuniform float bias; // bokeh edge bias\n\t\tuniform float fringe; // bokeh chromatic aberration / fringing\n\n\t\tuniform bool noise; //use noise instead of pattern for sample dithering\n\n\t\tuniform float dithering;\n\n\t\tuniform bool depthblur; // blur the depth buffer\n\t\tfloat dbsize = 1.25; // depth blur size\n\n\t\t/*\n\t\tnext part is experimental\n\t\tnot looking good with small sample and ring count\n\t\tlooks okay starting from samples = 4, rings = 4\n\t\t*/\n\n\t\tuniform bool pentagon; //use pentagon as bokeh shape?\n\t\tfloat feather = 0.4; //pentagon shape feather\n\n\t\t//------------------------------------------\n\n\t\tfloat penta(vec2 coords) {\n\t\t\t//pentagonal shape\n\t\t\tfloat scale = float(rings) - 1.3;\n\t\t\tvec4  HS0 = vec4( 1.0,         0.0,         0.0,  1.0);\n\t\t\tvec4  HS1 = vec4( 0.309016994, 0.951056516, 0.0,  1.0);\n\t\t\tvec4  HS2 = vec4(-0.809016994, 0.587785252, 0.0,  1.0);\n\t\t\tvec4  HS3 = vec4(-0.809016994,-0.587785252, 0.0,  1.0);\n\t\t\tvec4  HS4 = vec4( 0.309016994,-0.951056516, 0.0,  1.0);\n\t\t\tvec4  HS5 = vec4( 0.0        ,0.0         , 1.0,  1.0);\n\n\t\t\tvec4  one = vec4( 1.0 );\n\n\t\t\tvec4 P = vec4((coords),vec2(scale, scale));\n\n\t\t\tvec4 dist = vec4(0.0);\n\t\t\tfloat inorout = -4.0;\n\n\t\t\tdist.x = dot( P, HS0 );\n\t\t\tdist.y = dot( P, HS1 );\n\t\t\tdist.z = dot( P, HS2 );\n\t\t\tdist.w = dot( P, HS3 );\n\n\t\t\tdist = smoothstep( -feather, feather, dist );\n\n\t\t\tinorout += dot( dist, one );\n\n\t\t\tdist.x = dot( P, HS4 );\n\t\t\tdist.y = HS5.w - abs( P.z );\n\n\t\t\tdist = smoothstep( -feather, feather, dist );\n\t\t\tinorout += dist.x;\n\n\t\t\treturn clamp( inorout, 0.0, 1.0 );\n\t\t}\n\n\t\tfloat bdepth(vec2 coords) {\n\t\t\t// Depth buffer blur\n\t\t\tfloat d = 0.0;\n\t\t\tfloat kernel[9];\n\t\t\tvec2 offset[9];\n\n\t\t\tvec2 wh = vec2(1.0/textureWidth,1.0/textureHeight) * dbsize;\n\n\t\t\toffset[0] = vec2(-wh.x,-wh.y);\n\t\t\toffset[1] = vec2( 0.0, -wh.y);\n\t\t\toffset[2] = vec2( wh.x -wh.y);\n\n\t\t\toffset[3] = vec2(-wh.x,  0.0);\n\t\t\toffset[4] = vec2( 0.0,   0.0);\n\t\t\toffset[5] = vec2( wh.x,  0.0);\n\n\t\t\toffset[6] = vec2(-wh.x, wh.y);\n\t\t\toffset[7] = vec2( 0.0,  wh.y);\n\t\t\toffset[8] = vec2( wh.x, wh.y);\n\n\t\t\tkernel[0] = 1.0/16.0;   kernel[1] = 2.0/16.0;   kernel[2] = 1.0/16.0;\n\t\t\tkernel[3] = 2.0/16.0;   kernel[4] = 4.0/16.0;   kernel[5] = 2.0/16.0;\n\t\t\tkernel[6] = 1.0/16.0;   kernel[7] = 2.0/16.0;   kernel[8] = 1.0/16.0;\n\n\n\t\t\tfor( int i=0; i<9; i++ ) {\n\t\t\t\tfloat tmp = texture2D(tDepth, coords + offset[i]).r;\n\t\t\t\td += tmp * kernel[i];\n\t\t\t}\n\n\t\t\treturn d;\n\t\t}\n\n\n\t\tvec3 color(vec2 coords,float blur) {\n\t\t\t//processing the sample\n\n\t\t\tvec3 col = vec3(0.0);\n\t\t\tvec2 texel = vec2(1.0/textureWidth,1.0/textureHeight);\n\n\t\t\tcol.r = texture2D(tColor,coords + vec2(0.0,1.0)*texel*fringe*blur).r;\n\t\t\tcol.g = texture2D(tColor,coords + vec2(-0.866,-0.5)*texel*fringe*blur).g;\n\t\t\tcol.b = texture2D(tColor,coords + vec2(0.866,-0.5)*texel*fringe*blur).b;\n\n\t\t\tvec3 lumcoeff = vec3(0.299,0.587,0.114);\n\t\t\tfloat lum = dot(col.rgb, lumcoeff);\n\t\t\tfloat thresh = max((lum-threshold)*gain, 0.0);\n\t\t\treturn col+mix(vec3(0.0),col,thresh*blur);\n\t\t}\n\n\t\tvec3 debugFocus(vec3 col, float blur, float depth) {\n\t\t\tfloat edge = 0.002*depth; //distance based edge smoothing\n\t\t\tfloat m = clamp(smoothstep(0.0,edge,blur),0.0,1.0);\n\t\t\tfloat e = clamp(smoothstep(1.0-edge,1.0,blur),0.0,1.0);\n\n\t\t\tcol = mix(col,vec3(1.0,0.5,0.0),(1.0-m)*0.6);\n\t\t\tcol = mix(col,vec3(0.0,0.5,1.0),((1.0-e)-(1.0-m))*0.2);\n\n\t\t\treturn col;\n\t\t}\n\n\t\tfloat linearize(float depth) {\n\t\t\treturn -zfar * znear / (depth * (zfar - znear) - zfar);\n\t\t}\n\n\t\tfloat vignette() {\n\t\t\tfloat dist = distance(vUv.xy, vec2(0.5,0.5));\n\t\t\tdist = smoothstep(vignout+(fstop/vignfade), vignin+(fstop/vignfade), dist);\n\t\t\treturn clamp(dist,0.0,1.0);\n\t\t}\n\n\t\tfloat gather(float i, float j, int ringsamples, inout vec3 col, float w, float h, float blur) {\n\t\t\tfloat rings2 = float(rings);\n\t\t\tfloat step = PI*2.0 / float(ringsamples);\n\t\t\tfloat pw = cos(j*step)*i;\n\t\t\tfloat ph = sin(j*step)*i;\n\t\t\tfloat p = 1.0;\n\t\t\tif (pentagon) {\n\t\t\t\tp = penta(vec2(pw,ph));\n\t\t\t}\n\t\t\tcol += color(vUv.xy + vec2(pw*w,ph*h), blur) * mix(1.0, i/rings2, bias) * p;\n\t\t\treturn 1.0 * mix(1.0, i /rings2, bias) * p;\n\t\t}\n\n\t\tvoid main() {\n\t\t\t//scene depth calculation\n\n\t\t\tfloat depth = linearize(texture2D(tDepth,vUv.xy).x);\n\n\t\t\t// Blur depth?\n\t\t\tif ( depthblur ) {\n\t\t\t\tdepth = linearize(bdepth(vUv.xy));\n\t\t\t}\n\n\t\t\t//focal plane calculation\n\n\t\t\tfloat fDepth = focalDepth;\n\n\t\t\tif (shaderFocus) {\n\n\t\t\t\tfDepth = linearize(texture2D(tDepth,focusCoords).x);\n\n\t\t\t}\n\n\t\t\t// dof blur factor calculation\n\n\t\t\tfloat blur = 0.0;\n\n\t\t\tif (manualdof) {\n\t\t\t\tfloat a = depth-fDepth; // Focal plane\n\t\t\t\tfloat b = (a-fdofstart)/fdofdist; // Far DoF\n\t\t\t\tfloat c = (-a-ndofstart)/ndofdist; // Near Dof\n\t\t\t\tblur = (a>0.0) ? b : c;\n\t\t\t} else {\n\t\t\t\tfloat f = focalLength; // focal length in mm\n\t\t\t\tfloat d = fDepth*1000.0; // focal plane in mm\n\t\t\t\tfloat o = depth*1000.0; // depth in mm\n\n\t\t\t\tfloat a = (o*f)/(o-f);\n\t\t\t\tfloat b = (d*f)/(d-f);\n\t\t\t\tfloat c = (d-f)/(d*fstop*CoC);\n\n\t\t\t\tblur = abs(a-b)*c;\n\t\t\t}\n\n\t\t\tblur = clamp(blur,0.0,1.0);\n\n\t\t\t// calculation of pattern for dithering\n\n\t\t\tvec2 noise = vec2(rand(vUv.xy), rand( vUv.xy + vec2( 0.4, 0.6 ) ) )*dithering*blur;\n\n\t\t\t// getting blur x and y step factor\n\n\t\t\tfloat w = (1.0/textureWidth)*blur*maxblur+noise.x;\n\t\t\tfloat h = (1.0/textureHeight)*blur*maxblur+noise.y;\n\n\t\t\t// calculation of final color\n\n\t\t\tvec3 col = vec3(0.0);\n\n\t\t\tif(blur < 0.05) {\n\t\t\t\t//some optimization thingy\n\t\t\t\tcol = texture2D(tColor, vUv.xy).rgb;\n\t\t\t} else {\n\t\t\t\tcol = texture2D(tColor, vUv.xy).rgb;\n\t\t\t\tfloat s = 1.0;\n\t\t\t\tint ringsamples;\n\n\t\t\t\tfor (int i = 1; i <= rings; i++) {\n\t\t\t\t\t/*unboxstart*/\n\t\t\t\t\tringsamples = i * samples;\n\n\t\t\t\t\tfor (int j = 0 ; j < maxringsamples ; j++) {\n\t\t\t\t\t\tif (j >= ringsamples) break;\n\t\t\t\t\t\ts += gather(float(i), float(j), ringsamples, col, w, h, blur);\n\t\t\t\t\t}\n\t\t\t\t\t/*unboxend*/\n\t\t\t\t}\n\n\t\t\t\tcol /= s; //divide by sample count\n\t\t\t}\n\n\t\t\tif (showFocus) {\n\t\t\t\tcol = debugFocus(col, blur, depth);\n\t\t\t}\n\n\t\t\tif (vignetting) {\n\t\t\t\tcol *= vignette();\n\t\t\t}\n\n\t\t\tgl_FragColor.rgb = col;\n\t\t\tgl_FragColor.a = 1.0;\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <colorspace_fragment>\n\t\t}`\n\n};\n\nconst BokehDepthShader = {\n\n\tname: 'BokehDepthShader',\n\n\tuniforms: {\n\n\t\t'mNear': { value: 1.0 },\n\t\t'mFar': { value: 1000.0 },\n\n\t},\n\n\tvertexShader: /* glsl */`\n\n\t\tvarying float vViewZDepth;\n\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\n\t\t\tvViewZDepth = - mvPosition.z;\n\n\t\t}`,\n\n\tfragmentShader: /* glsl */`\n\n\t\tuniform float mNear;\n\t\tuniform float mFar;\n\n\t\tvarying float vViewZDepth;\n\n\t\tvoid main() {\n\n\t\t\tfloat color = 1.0 - smoothstep( mNear, mFar, vViewZDepth );\n\t\t\tgl_FragColor = vec4( vec3( color ), 1.0 );\n\n\t\t}`\n\n};\n\nexport { BokehShader, BokehDepthShader };\n"},"lineCount":null}},"error":null,"hash":"ff2ee9b80019829efe2d9d1d4699cca8","cacheData":{"env":{}}}